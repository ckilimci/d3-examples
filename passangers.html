<!doctype html>
<html>

<head>
	<title>SVG Example</title>
	<script src="http://d3js.org/d3.v4.min.js"></script>
</head>

<body>
    
	<script>	

        d3.csv("passangers.csv", function (data) {
        
            var width = 1350;
            var height = 5000;

            var widthScale = d3.scaleLinear()
                                .domain([0, 90000000])
                                .range([0, width]);

            var colorScale = d3.scaleLinear()
                                .domain([0, 90000000])
                                .range(["red", "blue"]);

            var axis = d3.axisBottom(widthScale)
                            .ticks(10);
            
            var canvas = d3.select("body")
                    .append("svg")
                    .attr("width", width)
                    .attr("height", height)
                    .append("g");

            
            canvas.selectAll("rect")
                .data(data)
                .enter()
                    .append("rect")
                    .attr("width", function(d) { return widthScale(d.passanger); })
                    .attr("height", 50)
                    .attr("fill", function(d) { return colorScale(d.passanger); })
                    .attr("y", function(d, i) { return i * 75; })
                    .attr("transform", "translate(0, 30)");

            canvas.append("g")
                    .call(axis);
            
        });

	</script>	
</body>

</html>
